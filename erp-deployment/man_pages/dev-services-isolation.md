# Development service isolation

This note documents the lightweight compose stack that isolates the Kafka, ZooKeeper, Elasticsearch, and JHipster Registry services used by the development profile.

## Why

Running the production `docker-compose.yml` alongside a locally executed `application-dev` server meant both environments pointed at the same Kafka broker and Elasticsearch node. Messages and indices generated by ad-hoc development runs could therefore pollute production data.

## What changed

* Added `services-dev.yml` which starts dedicated development instances on non-conflicting ports (ZooKeeper 2182, Kafka 9870/29093, JHipster Registry 9771, and Elasticsearch 8840/8841) with separate data volumes.
* Updated the central config `application-dev.yml` so the development profile connects to the new Kafka port, the JHipster Registry dev port, and publishes `SPRING_DATA_JEST_URI` for the matching Elasticsearch endpoint.

## How to use

1. Start the isolated services from `erp-deployment`: `docker-compose -f services-dev.yml up -d`.
2. Ensure the development application picks up the config server entry or export `SPRING_DATA_JEST_URI=http://localhost:8840` before running the app via Maven.
3. Keep the production `docker-compose.yml` running independently; the distinct ports and volumes prevent clashes.